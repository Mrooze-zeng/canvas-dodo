{"version":3,"sources":["dodo/event.js","dodo/shapes/base.js","dodo/index.js","dodo/shapes/circle.js","dodo/shapes/polygon.js","dodo/shapes/square.js","dodo/shapes/textarea.js","App.js","reportWebVitals.js","index.js"],"names":["CanvasEvent","type","data","this","isStopPropagation","Base","name","constructor","bgColor","strokeColor","textColor","lineWidth","activeStyle","at","x","y","id","_uuid","eventListener","Map","ctx","active","Date","now","toString","Math","random","slice","bool","points","beginPath","strokeStyle","i","length","point","lineTo","moveTo","closePath","stroke","listener","set","delete","event","fn","get","setActive","call","Dodo","width","height","ratio","window","devicePixelRatio","canvas","document","createElement","style","tabIndex","outline","getContext","scale","shapes","drawGrid","container","HTMLElement","Element","Error","xSize","ySize","color","lineWidthOrigin","grid","size","max","j","c","getContainer","querySelector","appendChild","setupCanvasEvent","addEventListener","handleClick","bind","handleKeyDown","console","log","key","rect","getBoundingClientRect","clientX","left","clientY","top","evt","index","shape","isPointInRegion","trigger","redraw","shapeDetect","findIndex","s","push","draw","warn","forEach","add","step","moveBy","filter","clearRect","Circle","options","radius","arc","PI","fillStyle","fill","drawActive","sqrt","pow","Polygon","map","p","z","wn","a","b","cross","Square","fillRect","Textarea","App","ref","useRef","dodo","s1","s2","s3","c1","p1","t1","on","stopPropagation","handleMove","moveActiveShape","addAll","useEffect","mount","current","padding","paddingBottom","onClick","removeActiveShape","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9aeed9ee.chunk.js","sourcesContent":["export default class CanvasEvent {\n  constructor({ type = \"event\", data = {} } = {}) {\n    this.type = type;\n    this.data = data;\n    this.isStopPropagation = false;\n  }\n  stopPropagation() {\n    this.isStopPropagation = true;\n  }\n}\n","export default class Base {\n  type = this.constructor.name;\n  id = this._uuid();\n  eventListener = new Map();\n  ctx = null;\n  active = false;\n  constructor({\n    name = this.constructor.name,\n    bgColor = \"#ff0000\",\n    strokeColor = \"#00ff00\",\n    textColor = \"#ffa500\",\n    lineWidth = 5,\n    activeStyle = \"#59c7f9\",\n    at = { x: 0, y: 0 },\n  } = {}) {\n    this.name = name;\n    this.bgColor = bgColor;\n    this.strokeColor = strokeColor;\n    this.textColor = textColor;\n    this.lineWidth = lineWidth;\n    this.activeStyle = activeStyle;\n    this.at = at;\n  }\n  _uuid() {\n    return Date.now().toString(36) + Math.random().toString(36).slice(2);\n  }\n  draw(ctx = null) {\n    this.ctx = ctx;\n    return this.ctx;\n  }\n\n  moveBy({ x = 0, y = 0 } = {}) {\n    this.at.x += x;\n    this.at.y += y;\n    return this;\n  }\n  moveTo({ x = 0, y = 0 } = {}) {\n    this.at.x = x;\n    this.at.y = y;\n    return this;\n  }\n  update({\n    bgColor = this.bgColor,\n    strokeColor = this.strokeColor,\n    textColor = this.textColor,\n    lineWidth = this.lineWidth,\n  } = {}) {\n    this.bgColor = bgColor;\n    this.strokeColor = strokeColor;\n    this.textColor = textColor;\n    this.lineWidth = lineWidth;\n  }\n  setActive(bool = false) {\n    this.active = bool;\n  }\n  drawActive(points = []) {\n    const { ctx } = this;\n    ctx.beginPath();\n    ctx.lineWidth = 2;\n    ctx.strokeStyle = this.activeStyle;\n    for (let i = 0; i < points.length; i++) {\n      const point = points[i];\n      if (i === 0) {\n        ctx.moveTo(point.x, point.y);\n        continue;\n      }\n      ctx.lineTo(point.x, point.y);\n    }\n    ctx.closePath();\n    ctx.stroke();\n  }\n  on(name = \"\", listener = function () {}) {\n    this.eventListener.set(name, listener);\n  }\n  off(name = \"\") {\n    this.eventListener.delete(name);\n  }\n  isPointInRegion() {\n    return false;\n  }\n  trigger(name = \"\", event) {\n    const fn = this.eventListener.get(name) || function () {};\n    this.setActive(true);\n    fn.call(this, event);\n  }\n}\n","import CanvasEvent from \"./event\";\nimport Base from \"./shapes/base\";\n\nexport default class Dodo {\n  ratio = window.devicePixelRatio || 1;\n  constructor({ width = 250, height = 250 } = {}) {\n    this.width = width;\n    this.height = height;\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = width;\n    this.canvas.height = height;\n    this.canvas.style.width = width + \"px\";\n    this.canvas.style.height = height + \"px\";\n    //for text inputs\n    this.canvas.tabIndex = 1000;\n    this.canvas.style.outline = \"none\";\n\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.ctx.scale(this.ratio, this.ratio);\n    this.shapes = [];\n    this.drawGrid(this.ctx);\n  }\n  getContainer(container = HTMLElement) {\n    if (!container instanceof Element) {\n      throw new Error(\"Mount point should be set\");\n    }\n    return container;\n  }\n  drawGrid(\n    ctx = null,\n    xSize = 10,\n    ySize = 10,\n    color = \"lightgray\",\n    lineWidth = 0.5,\n  ) {\n    const lineWidthOrigin = ctx.lineWidth;\n    ctx.lineWidth = lineWidth;\n    const grid = function (\n      size,\n      max = 0,\n      moveTo = function () {},\n      lineTo = function () {},\n    ) {\n      for (let i = lineWidth, j = 0; i < max; i += size, j++) {\n        ctx.beginPath();\n        moveTo(i);\n        lineTo(i);\n        if (j % 5 === 0) {\n          ctx.strokeStyle = \"darkgrey\";\n        } else {\n          ctx.strokeStyle = color;\n        }\n        ctx.stroke();\n      }\n    };\n    grid(\n      xSize,\n      ctx.canvas.width,\n      function (i) {\n        ctx.moveTo(i, 0);\n      },\n      function (i) {\n        ctx.lineTo(i, ctx.canvas.height);\n      },\n    );\n    grid(\n      ySize,\n      ctx.canvas.height,\n      function (i) {\n        ctx.moveTo(0, i);\n      },\n      function (i) {\n        ctx.lineTo(ctx.canvas.width, i);\n      },\n    );\n\n    ctx.lineWidth = lineWidthOrigin;\n  }\n  mount(container = null) {\n    const c = this.getContainer(container);\n    if (!c.querySelector(\"canvas\")) {\n      c.appendChild(this.canvas);\n      this.setupCanvasEvent();\n    }\n  }\n  setupCanvasEvent() {\n    this.canvas.addEventListener(\"click\", this.handleClick.bind(this));\n    this.canvas.addEventListener(\"keydown\", this.handleKeyDown.bind(this));\n  }\n  handleKeyDown(event) {\n    console.log(event.key);\n  }\n  handleClick(event) {\n    const rect = this.canvas.getBoundingClientRect();\n    const point = {\n      x: event.clientX - rect.left,\n      y: event.clientY - rect.top,\n    };\n    const evt = new CanvasEvent({ type: event.type, data: { point } });\n    for (let index = 0; index < this.shapes.length; index++) {\n      const shape = this.shapes[this.shapes.length - 1 - index];\n      shape.setActive(false);\n      if (evt.isStopPropagation) {\n        continue;\n      }\n      if (shape.isPointInRegion(point)) {\n        shape.trigger(\"click\", evt);\n      }\n    }\n    this.redraw();\n  }\n  shapeDetect(shape = null) {\n    if (!(shape instanceof Base)) {\n      throw new Error(\"It's not illegal shape!\");\n    }\n  }\n  add(shape = null) {\n    this.shapeDetect(shape);\n    if (this.shapes.findIndex((s) => s === shape) < 0) {\n      this.shapes.push(shape);\n      this.draw(shape);\n    } else {\n      console.warn(`Fail to add shape, duplicate: ${shape.type}`);\n    }\n  }\n  addAll(...shapes) {\n    shapes.forEach((s) => {\n      this.add(s);\n    });\n  }\n  moveActiveShape(step = { x: 1, y: 0 }) {\n    this.shapes.forEach((s) => {\n      if (s.active) {\n        s.moveBy(step);\n      }\n    });\n    this.redraw();\n  }\n  removeActiveShape() {\n    this.shapes = this.shapes.filter((s) => !s.active);\n    this.redraw();\n  }\n  draw(shape) {\n    this.shapeDetect(shape);\n    shape.draw(this.ctx);\n  }\n  redraw() {\n    this.ctx.clearRect(0, 0, this.width, this.height);\n    this.drawGrid(this.ctx);\n\n    this.shapes.forEach((s) => this.draw(s));\n  }\n}\n","import Base from \"./base\";\n\nexport default class Circle extends Base {\n  constructor(options = {}) {\n    super(options);\n    const { radius = 50, at = { x: 0, y: 0 } } = options;\n    this.radius = radius;\n    this.at = at;\n  }\n  update(options = {}) {\n    super.update(options);\n    const { radius = 50, at = { x: 0, y: 0 } } = options;\n    this.at = at;\n    this.radius = radius;\n  }\n  draw(ctx = null) {\n    super.draw(ctx);\n    ctx.beginPath();\n    ctx.arc(this.at.x, this.at.y, this.radius, 0, 2 * Math.PI, false);\n    ctx.fillStyle = this.bgColor;\n    ctx.fill();\n    // ctx.lineWidth = this.lineWidth;\n    // ctx.strokeStyle = this.strokeColor;\n    // ctx.stroke();\n    this.active && this.drawActive();\n  }\n  // moveBy(step = {}) {\n  //   return super.move(step);\n  // }\n  // moveTo(point = {}) {\n  //   return super.moveTo(point);\n  // }\n  drawActive() {\n    const { ctx } = this;\n    ctx.strokeStyle = this.activeStyle;\n    ctx.lineWidth = 2;\n\n    ctx.stroke();\n  }\n  isPointInRegion(point = { x: 0, y: 0 }) {\n    return (\n      Math.sqrt(\n        Math.pow(point.x - this.at.x, 2) + Math.pow(point.y - this.at.y, 2),\n      ) < this.radius\n    );\n  }\n}\n","import Base from \"./base\";\n\nexport default class Polygon extends Base {\n  constructor(options = {}) {\n    super(options);\n    const { points = [] } = options;\n    this.points = points;\n    this.at = points[0];\n  }\n  update(options = {}) {\n    super.update(options);\n    const { points = [] } = options;\n    this.points = points;\n  }\n  draw(ctx = null) {\n    super.draw(ctx);\n    ctx.fillStyle = this.bgColor;\n    ctx.beginPath();\n    for (let i = 0; i < this.points.length; i++) {\n      const point = this.points[i];\n      if (i === 0) {\n        ctx.moveTo(point.x, point.y);\n        continue;\n      }\n      ctx.lineTo(point.x, point.y);\n    }\n    ctx.fill();\n\n    this.drawActive();\n  }\n  moveBy(step = { x: 0, y: 0 }) {\n    this.points.map((p) => {\n      p.x += step.x;\n      p.y += step.y;\n      return p;\n    });\n    return this;\n  }\n  moveTo(point = { x: 0, y: 0 }) {\n    this.moveBy({ x: point.x - this.at.x, y: point.y - this.at.y });\n    return this;\n  }\n  drawActive() {\n    this.active && super.drawActive(this.points);\n  }\n  cross(x = { x: 0, y: 0 }, y = { x: 0, y: 0 }, z = { x: 0, y: 0 }) {\n    return (y.x - x.x) * (z.y - x.y) - (z.x - x.x) * (y.y - x.y);\n  }\n  isPointInRegion(point = { x: 0, y: 0 }) {\n    let wn = 0;\n\n    this.points.forEach((a, i) => {\n      const b = this.points[(i + 1) % this.points.length];\n      if (a.y <= point.y) {\n        if (b.y > point.y && this.cross(a, b, point) > 0) {\n          wn += 1;\n        }\n      } else if (b.y <= point.y && this.cross(a, b, point) < 0) {\n        wn -= 1;\n      }\n    });\n\n    return wn !== 0;\n  }\n}\n","import Base from \"./base\";\n\nexport default class Square extends Base {\n  constructor(options = {}) {\n    super(options);\n    const { width = 50, height = 50, at = { x: 0, y: 0 } } = options;\n    this.width = width;\n    this.height = height;\n    this.at = at;\n  }\n  update(options = {}) {\n    super.update(options);\n    const { width = 50, height = 50, at = { x: 0, y: 0 } } = options;\n    this.width = width;\n    this.height = height;\n    this.at = at;\n  }\n  draw(ctx = null) {\n    super.draw(ctx);\n    ctx.fillStyle = this.bgColor;\n    ctx.fillRect(this.at.x, this.at.y, this.width, this.height);\n\n    this.drawActive();\n  }\n  drawActive() {\n    this.active &&\n      super.drawActive([\n        { x: this.at.x, y: this.at.y },\n        { x: this.at.x + this.width, y: this.at.y },\n        { x: this.at.x + this.width, y: this.at.y + this.height },\n        { x: this.at.x, y: this.at.y + this.height },\n      ]);\n  }\n  // moveBy(step = {}) {\n  //   return super.move(step);\n  // }\n  // moveTo(point = {}) {\n  //   return super.moveTo(point);\n  // }\n  isPointInRegion(point = { x: 0, y: 0 }) {\n    return (\n      point.x > this.at.x &&\n      point.x < this.at.x + this.width &&\n      point.y > this.at.y &&\n      point.y < this.at.y + this.height\n    );\n  }\n}\n","import Polygon from \"./polygon\";\n\nexport default class Textarea extends Polygon {\n  constructor({\n    width = 100,\n    height = 25,\n    at = { x: 0, y: 0 },\n    name = \"\",\n  } = {}) {\n    super({\n      name: name,\n      points: [\n        at,\n        { x: at.x + width, y: at.y },\n        { x: at.x + width, y: at.y + height },\n        { x: at.x, y: at.y + height },\n      ],\n    });\n  }\n}\n","import { useEffect, useRef } from \"react\";\nimport Dodo from \"./dodo\";\nimport Circle from \"./dodo/shapes/circle\";\nimport Polygon from \"./dodo/shapes/polygon\";\nimport Square from \"./dodo/shapes/square\";\nimport Textarea from \"./dodo/shapes/textarea\";\n\nfunction App() {\n  const ref = useRef();\n  const dodo = new Dodo({\n    width: 800,\n    height: 500,\n  });\n  const s1 = new Square({ name: \"s1\", width: 50 });\n  const s2 = new Square({ name: \"s2\", at: { x: 130, y: 120 }, width: 50 });\n  const s3 = new Square({ name: \"s3\", at: { x: 230, y: 120 } });\n  const c1 = new Circle({\n    name: \"c1\",\n    bgColor: \"green\",\n    at: {\n      x: 130,\n      y: 120,\n    },\n  }).moveTo({ x: 300, y: 150 });\n\n  const p1 = new Polygon({\n    name: \"polygon\",\n    points: [\n      { x: 0, y: 0 },\n      { x: 100, y: 400 },\n      { x: 100, y: 500 },\n      { x: 400, y: 400 },\n      { x: 700, y: 500 },\n      { x: 300, y: 500 },\n      { x: 300, y: 400 },\n    ],\n  }).moveTo({ x: 400, y: 150 });\n\n  const t1 = new Textarea({\n    name: \"textarea\",\n    at: { x: 0, y: 0 },\n  }).moveTo({ x: 400, y: 150 });\n\n  s1.on(\"click\", (event) => {\n    console.log(\"s1 clicked....\", event, dodo.shapes);\n  });\n  s2.on(\"click\", function (event) {\n    console.log(\"s2 clicked....\", this, dodo.shapes);\n  });\n\n  c1.on(\"click\", (event) => {\n    event.stopPropagation();\n    console.log(\"c1 clicked....\");\n  });\n\n  p1.on(\"click\", (event) => {\n    console.log(\"=------\");\n  });\n\n  const handleMove = function (step = { x: 0, y: 0 }) {\n    dodo.moveActiveShape(step);\n  };\n\n  const handleDelete = function () {\n    dodo.removeActiveShape();\n  };\n\n  const handleReDraw = function () {\n    dodo.redraw();\n  };\n\n  console.log(t1);\n\n  dodo.addAll(s2, s1, s3, c1, p1, t1);\n\n  useEffect(() => {\n    dodo.mount(ref.current);\n  });\n\n  return (\n    <div ref={ref} style={{ padding: 15 }}>\n      <div style={{ paddingBottom: 15 }}>\n        <button onClick={() => handleMove({ x: 0, y: -1 })}>Up+1</button>\n        <button onClick={() => handleMove({ x: 1, y: 0 })}>right+1</button>\n        <button onClick={() => handleMove({ x: 0, y: 1 })}>Down+1</button>\n        <button onClick={() => handleMove({ x: -1, y: 0 })}>Left+1</button>\n        <button onClick={() => handleDelete()}>Delete</button>\n        <button onClick={() => handleReDraw()}>ReDraw</button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}